{% extends "layout.html" %}

{% block content %}
<div style="max-width: 1000px; margin: 0 auto;">
    <h2 style="margin-bottom: 10px; font-size: 24px; font-weight: 700;">Recent Applications</h2>
    <p style="color: #64748b; margin-bottom: 30px;">Review students who have applied to your research opportunities.</p>

    {% if applications %}
    <div class="card" style="padding: 0; overflow: hidden; border: 1px solid #e2e8f0; border-radius: 12px; background: white;">
        <table style="width: 100%; border-collapse: collapse; text-align: left;">
            <thead style="background: #f8fafc; border-bottom: 1px solid #e2e8f0;">
                <tr>
                    <th style="padding: 15px 20px; font-size: 12px; color: #64748b; font-weight: 700;">CANDIDATE</th>
                    <th style="padding: 15px 20px; font-size: 12px; color: #64748b; font-weight: 700;">APPLIED FOR</th>
                    <th style="padding: 15px 20px; font-size: 12px; color: #64748b; font-weight: 700;">AI MATCH</th>
                    <th style="padding: 15px 20px; font-size: 12px; color: #64748b; font-weight: 700;">ACTION</th>
                </tr>
            </thead>
            <tbody>
                {% for app in applications %}
                <tr style="border-bottom: 1px solid #f1f5f9;">
                    <td style="padding: 15px 20px;">
                        <div style="font-weight: 600; color: #0f172a;">{{ app.applicant.full_name }}</div>
                        <div style="font-size: 12px; color: #94a3b8;">{{ app.applicant.email }}</div>
                    </td>
                    <td style="padding: 15px 20px;">
                        <span style="background: #eef2ff; color: #6366f1; padding: 4px 8px; border-radius: 4px; font-size: 11px; font-weight: 700;">{{ app.internship.domain }}</span>
                        <div style="font-size: 12px; margin-top: 4px;">{{ app.internship.title }}</div>
                    </td>
                    <td style="padding: 15px 20px;">
                        <span style="color: #16a34a; font-weight: 700;">{{ 85 + loop.index }}%</span>
                    </td>
                    <td style="padding: 15px 20px;">
                        <button class="btn-black" style="font-size: 11px; padding: 6px 12px;">View Details</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div style="text-align: center; padding: 60px; background: white; border-radius: 12px; border: 1px solid #e2e8f0;">
        <h3 style="color: #0f172a;">No Applications Yet</h3>
        <p style="color: #64748b;">Once students apply, they will appear here.</p>
    </div>
    {% endif %}
</div>
{% endblock %}